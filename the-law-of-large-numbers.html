<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 The law of large numbers | BIOL 480/580Q: Ecological Modeling (Fall 2024)</title>
  <meta name="description" content="5 The law of large numbers | BIOL 480/580Q: Ecological Modeling (Fall 2024)" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="5 The law of large numbers | BIOL 480/580Q: Ecological Modeling (Fall 2024)" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 The law of large numbers | BIOL 480/580Q: Ecological Modeling (Fall 2024)" />
  
  
  

<meta name="author" content="Eliza Grames" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="inference.html"/>
<link rel="next" href="simple-linear-models.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i><b>1.1</b> About this ‘book’</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#why-this-course"><i class="fa fa-check"></i><b>1.2</b> Why this course?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#getting-comfortable-with-r-and-rstudio"><i class="fa fa-check"></i><b>1.3</b> Getting comfortable with R and RStudio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#some-terms-and-definitions"><i class="fa fa-check"></i><b>1.3.1</b> Some terms and definitions</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#customizing-rstudio"><i class="fa fa-check"></i><b>1.3.2</b> Customizing RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#how-to-approach-this-course"><i class="fa fa-check"></i><b>1.4</b> How to approach this course</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="probability.html"><a href="probability.html"><i class="fa fa-check"></i><b>2</b> Probability</a>
<ul>
<li class="chapter" data-level="2.1" data-path="probability.html"><a href="probability.html#bernoulli-distribution"><i class="fa fa-check"></i><b>2.1</b> Bernoulli distribution</a></li>
<li class="chapter" data-level="2.2" data-path="probability.html"><a href="probability.html#binomial-distribution"><i class="fa fa-check"></i><b>2.2</b> Binomial distribution</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="probability.html"><a href="probability.html#guillemot-example"><i class="fa fa-check"></i><b>2.2.1</b> Guillemot example</a></li>
<li class="chapter" data-level="2.2.2" data-path="probability.html"><a href="probability.html#coral-example"><i class="fa fa-check"></i><b>2.2.2</b> Coral example</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="probability.html"><a href="probability.html#probability-mass"><i class="fa fa-check"></i><b>2.3</b> Probability mass</a></li>
<li class="chapter" data-level="2.4" data-path="probability.html"><a href="probability.html#the-normal-gaussian-distribution"><i class="fa fa-check"></i><b>2.4</b> The Normal (Gaussian) distribution</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="probability.html"><a href="probability.html#guillemot-weight"><i class="fa fa-check"></i><b>2.4.1</b> Guillemot weight</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="probability.html"><a href="probability.html#probability-density"><i class="fa fa-check"></i><b>2.5</b> Probability density</a></li>
<li class="chapter" data-level="2.6" data-path="probability.html"><a href="probability.html#the-standard-normal-distribution"><i class="fa fa-check"></i><b>2.6</b> The Standard Normal Distribution</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="probability.html"><a href="probability.html#functions-1"><i class="fa fa-check"></i><b>2.6.1</b> Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="null-hypothesis-significance-testing.html"><a href="null-hypothesis-significance-testing.html"><i class="fa fa-check"></i><b>3</b> Null hypothesis significance testing</a>
<ul>
<li class="chapter" data-level="3.1" data-path="null-hypothesis-significance-testing.html"><a href="null-hypothesis-significance-testing.html#a-brief-history-of-statistics-and-eugenics"><i class="fa fa-check"></i><b>3.1</b> A brief history of statistics and eugenics</a></li>
<li class="chapter" data-level="3.2" data-path="null-hypothesis-significance-testing.html"><a href="null-hypothesis-significance-testing.html#t-distribution-and-t-tests"><i class="fa fa-check"></i><b>3.2</b> T-distribution and t-tests</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="null-hypothesis-significance-testing.html"><a href="null-hypothesis-significance-testing.html#butterfly-wing-size"><i class="fa fa-check"></i><b>3.2.1</b> Butterfly wing size</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="null-hypothesis-significance-testing.html"><a href="null-hypothesis-significance-testing.html#anova"><i class="fa fa-check"></i><b>3.3</b> ANOVA</a></li>
<li class="chapter" data-level="3.4" data-path="null-hypothesis-significance-testing.html"><a href="null-hypothesis-significance-testing.html#type-i-and-type-ii-error"><i class="fa fa-check"></i><b>3.4</b> Type I and Type II error</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="inference.html"><a href="inference.html"><i class="fa fa-check"></i><b>4</b> Inference</a>
<ul>
<li class="chapter" data-level="4.1" data-path="inference.html"><a href="inference.html#lyrebird-song-repertoire"><i class="fa fa-check"></i><b>4.1</b> Lyrebird song repertoire</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="the-law-of-large-numbers.html"><a href="the-law-of-large-numbers.html"><i class="fa fa-check"></i><b>5</b> The law of large numbers</a>
<ul>
<li class="chapter" data-level="5.1" data-path="the-law-of-large-numbers.html"><a href="the-law-of-large-numbers.html#confidence-intervals"><i class="fa fa-check"></i><b>5.1</b> Confidence intervals</a></li>
<li class="chapter" data-level="5.2" data-path="the-law-of-large-numbers.html"><a href="the-law-of-large-numbers.html#lyrebird-population-differences"><i class="fa fa-check"></i><b>5.2</b> Lyrebird population differences</a></li>
<li class="chapter" data-level="5.3" data-path="the-law-of-large-numbers.html"><a href="the-law-of-large-numbers.html#lyrebird-mating-success-and-the-sampling-distribution"><i class="fa fa-check"></i><b>5.3</b> Lyrebird mating success and the sampling distribution</a></li>
<li class="chapter" data-level="5.4" data-path="the-law-of-large-numbers.html"><a href="the-law-of-large-numbers.html#credible-intervals"><i class="fa fa-check"></i><b>5.4</b> Credible intervals</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="simple-linear-models.html"><a href="simple-linear-models.html"><i class="fa fa-check"></i><b>6</b> Simple Linear models</a>
<ul>
<li class="chapter" data-level="6.1" data-path="simple-linear-models.html"><a href="simple-linear-models.html#algebraic-linear-functions"><i class="fa fa-check"></i><b>6.1</b> Algebraic linear functions</a></li>
<li class="chapter" data-level="6.2" data-path="simple-linear-models.html"><a href="simple-linear-models.html#model-components"><i class="fa fa-check"></i><b>6.2</b> Model components</a></li>
<li class="chapter" data-level="6.3" data-path="simple-linear-models.html"><a href="simple-linear-models.html#ordinary-least-squares"><i class="fa fa-check"></i><b>6.3</b> Ordinary least squares</a></li>
<li class="chapter" data-level="6.4" data-path="simple-linear-models.html"><a href="simple-linear-models.html#assumptions-of-linear-models"><i class="fa fa-check"></i><b>6.4</b> Assumptions of linear models</a></li>
<li class="chapter" data-level="6.5" data-path="simple-linear-models.html"><a href="simple-linear-models.html#example-american-pika"><i class="fa fa-check"></i><b>6.5</b> Example: American pika</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="simple-linear-models.html"><a href="simple-linear-models.html#specify-our-the-model"><i class="fa fa-check"></i><b>6.5.1</b> Specify our the model</a></li>
<li class="chapter" data-level="6.5.2" data-path="simple-linear-models.html"><a href="simple-linear-models.html#read-in-the-data"><i class="fa fa-check"></i><b>6.5.2</b> Read in the data</a></li>
<li class="chapter" data-level="6.5.3" data-path="simple-linear-models.html"><a href="simple-linear-models.html#data-cleaning-and-prepping-covariates"><i class="fa fa-check"></i><b>6.5.3</b> Data cleaning and prepping covariates</a></li>
<li class="chapter" data-level="6.5.4" data-path="simple-linear-models.html"><a href="simple-linear-models.html#plot-the-data"><i class="fa fa-check"></i><b>6.5.4</b> Plot the data</a></li>
<li class="chapter" data-level="6.5.5" data-path="simple-linear-models.html"><a href="simple-linear-models.html#fit-the-model"><i class="fa fa-check"></i><b>6.5.5</b> Fit the model</a></li>
<li class="chapter" data-level="6.5.6" data-path="simple-linear-models.html"><a href="simple-linear-models.html#evaluate-model-fit"><i class="fa fa-check"></i><b>6.5.6</b> Evaluate model fit</a></li>
<li class="chapter" data-level="6.5.7" data-path="simple-linear-models.html"><a href="simple-linear-models.html#interpret-model-output"><i class="fa fa-check"></i><b>6.5.7</b> Interpret model output</a></li>
<li class="chapter" data-level="6.5.8" data-path="simple-linear-models.html"><a href="simple-linear-models.html#make-predictions"><i class="fa fa-check"></i><b>6.5.8</b> Make predictions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="linear-models-ii.html"><a href="linear-models-ii.html"><i class="fa fa-check"></i><b>7</b> Linear models II</a>
<ul>
<li class="chapter" data-level="7.1" data-path="linear-models-ii.html"><a href="linear-models-ii.html#multiple-predictors"><i class="fa fa-check"></i><b>7.1</b> Multiple predictors</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="linear-models-ii.html"><a href="linear-models-ii.html#the-design-matrix"><i class="fa fa-check"></i><b>7.1.1</b> The Design Matrix</a></li>
<li class="chapter" data-level="7.1.2" data-path="linear-models-ii.html"><a href="linear-models-ii.html#additive-effects"><i class="fa fa-check"></i><b>7.1.2</b> Additive effects</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">BIOL 480/580Q: Ecological Modeling (Fall 2024)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-law-of-large-numbers" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> The law of large numbers<a href="the-law-of-large-numbers.html#the-law-of-large-numbers" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>As our sample size increases, the sample mean <span class="math inline">\(\bar{x}\)</span> will more closely approximate the population mean <span class="math inline">\(\mu\)</span>. To demonstrate this, we are going to use something called a <code>for</code> loop. A <code>for</code> loop allows us to iterate a process.</p>
<p>One way to think about a <code>for</code> loop is as a set of instructions for an extremely literal toddler. Pretend you have this bowl of fruit, and you need the toddler to pick up a piece of fruit, bring it to the kitchen, wash it, put it into a new bowl, and then repeat this for the next fruit. They can only carry one fruit at a time. How we would write this as a for loop is to first specify what they will be working with, i.e. “for each fruit in the fruit bowl” is written as <code>for(fruit in fruit_bowl)</code>. Then, the next step would be “take fruit to kitchen” which might be <code>to_kitchen(fruit)</code>, and so on. In the code below, we will use the <code>print()</code> function instead because there is no such thing as a <code>to_kitchen</code> function (unless you write it yourself).</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="the-law-of-large-numbers.html#cb92-1" tabindex="-1"></a>fruit_bowl <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;kiwi&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;apple&quot;</span>, <span class="st">&quot;pomegranate&quot;</span>, <span class="st">&quot;pear&quot;</span>)</span>
<span id="cb92-2"><a href="the-law-of-large-numbers.html#cb92-2" tabindex="-1"></a></span>
<span id="cb92-3"><a href="the-law-of-large-numbers.html#cb92-3" tabindex="-1"></a><span class="cf">for</span>(fruit <span class="cf">in</span> fruit_bowl){</span>
<span id="cb92-4"><a href="the-law-of-large-numbers.html#cb92-4" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;pick up&quot;</span>, fruit)) <span class="co"># paste is a function that concatenates strings</span></span>
<span id="cb92-5"><a href="the-law-of-large-numbers.html#cb92-5" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;take&quot;</span>, fruit, <span class="st">&quot;to kitchen&quot;</span>))</span>
<span id="cb92-6"><a href="the-law-of-large-numbers.html#cb92-6" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;wash&quot;</span>, fruit))</span>
<span id="cb92-7"><a href="the-law-of-large-numbers.html#cb92-7" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;set&quot;</span>, fruit, <span class="st">&quot;in new bowl&quot;</span>))</span>
<span id="cb92-8"><a href="the-law-of-large-numbers.html#cb92-8" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;pick up kiwi&quot;
## [1] &quot;take kiwi to kitchen&quot;
## [1] &quot;wash kiwi&quot;
## [1] &quot;set kiwi in new bowl&quot;
## [1] &quot;pick up banana&quot;
## [1] &quot;take banana to kitchen&quot;
## [1] &quot;wash banana&quot;
## [1] &quot;set banana in new bowl&quot;
## [1] &quot;pick up apple&quot;
## [1] &quot;take apple to kitchen&quot;
## [1] &quot;wash apple&quot;
## [1] &quot;set apple in new bowl&quot;
## [1] &quot;pick up pomegranate&quot;
## [1] &quot;take pomegranate to kitchen&quot;
## [1] &quot;wash pomegranate&quot;
## [1] &quot;set pomegranate in new bowl&quot;
## [1] &quot;pick up pear&quot;
## [1] &quot;take pear to kitchen&quot;
## [1] &quot;wash pear&quot;
## [1] &quot;set pear in new bowl&quot;</code></pre>
<p>A more common way to use <code>for</code> loops is with an index. Rather than setting up our fruit bowl in advance, we instead have a list of fruits and we can subset each one based on numbers. i.e. <code>fruit_bowl[1]</code> is <code>"kiwi"</code>. What is nice about this is you can combine different vectors and subset them by the same index.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="the-law-of-large-numbers.html#cb94-1" tabindex="-1"></a>fruits <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apples&quot;</span>, <span class="st">&quot;bananas&quot;</span>, <span class="st">&quot;grapes&quot;</span>)</span>
<span id="cb94-2"><a href="the-law-of-large-numbers.html#cb94-2" tabindex="-1"></a><span class="co"># here we use i as a placeholder to stand for index</span></span>
<span id="cb94-3"><a href="the-law-of-large-numbers.html#cb94-3" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb94-4"><a href="the-law-of-large-numbers.html#cb94-4" tabindex="-1"></a>  <span class="fu">print</span>(fruits[i])</span>
<span id="cb94-5"><a href="the-law-of-large-numbers.html#cb94-5" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;apples&quot;
## [1] &quot;bananas&quot;
## [1] &quot;grapes&quot;</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="the-law-of-large-numbers.html#cb96-1" tabindex="-1"></a><span class="co"># add in a second vector of adjectives</span></span>
<span id="cb96-2"><a href="the-law-of-large-numbers.html#cb96-2" tabindex="-1"></a>adjectives <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;green&quot;</span>, <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;purple&quot;</span>)</span>
<span id="cb96-3"><a href="the-law-of-large-numbers.html#cb96-3" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb96-4"><a href="the-law-of-large-numbers.html#cb96-4" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(fruits[i], <span class="st">&quot;are&quot;</span>, adjectives[i]))</span>
<span id="cb96-5"><a href="the-law-of-large-numbers.html#cb96-5" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;apples are green&quot;
## [1] &quot;bananas are yellow&quot;
## [1] &quot;grapes are purple&quot;</code></pre>
<p>You can also nest <code>for</code> loops within each other, but that is for a different day. What we want to use <code>for</code> loops for right now is to combine them with a probability density function (<code>rnorm</code>) to visualize the central limit theorem.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="the-law-of-large-numbers.html#cb98-1" tabindex="-1"></a><span class="co"># Using the same population parameters as above, if we were to sample more</span></span>
<span id="cb98-2"><a href="the-law-of-large-numbers.html#cb98-2" tabindex="-1"></a><span class="co"># individuals, would we converge towards the true mean?</span></span>
<span id="cb98-3"><a href="the-law-of-large-numbers.html#cb98-3" tabindex="-1"></a>n.samples <span class="ot">&lt;-</span> <span class="dv">200</span></span>
<span id="cb98-4"><a href="the-law-of-large-numbers.html#cb98-4" tabindex="-1"></a></span>
<span id="cb98-5"><a href="the-law-of-large-numbers.html#cb98-5" tabindex="-1"></a>more_samples <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n.samples, true_mean, <span class="at">sd =</span> true_sd)</span>
<span id="cb98-6"><a href="the-law-of-large-numbers.html#cb98-6" tabindex="-1"></a></span>
<span id="cb98-7"><a href="the-law-of-large-numbers.html#cb98-7" tabindex="-1"></a>running_avg <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb98-8"><a href="the-law-of-large-numbers.html#cb98-8" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n.samples){</span>
<span id="cb98-9"><a href="the-law-of-large-numbers.html#cb98-9" tabindex="-1"></a>  running_avg[i] <span class="ot">&lt;-</span> <span class="fu">mean</span>(more_samples[<span class="dv">1</span><span class="sc">:</span>i])</span>
<span id="cb98-10"><a href="the-law-of-large-numbers.html#cb98-10" tabindex="-1"></a>}</span>
<span id="cb98-11"><a href="the-law-of-large-numbers.html#cb98-11" tabindex="-1"></a></span>
<span id="cb98-12"><a href="the-law-of-large-numbers.html#cb98-12" tabindex="-1"></a><span class="fu">plot</span>(running_avg,</span>
<span id="cb98-13"><a href="the-law-of-large-numbers.html#cb98-13" tabindex="-1"></a>     <span class="at">type=</span><span class="st">&quot;l&quot;</span>,</span>
<span id="cb98-14"><a href="the-law-of-large-numbers.html#cb98-14" tabindex="-1"></a>     <span class="at">lwd=</span><span class="dv">2</span>,</span>
<span id="cb98-15"><a href="the-law-of-large-numbers.html#cb98-15" tabindex="-1"></a>     <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">45</span>),</span>
<span id="cb98-16"><a href="the-law-of-large-numbers.html#cb98-16" tabindex="-1"></a>     <span class="at">ylab=</span><span class="st">&quot;Mean song repertoire&quot;</span>,</span>
<span id="cb98-17"><a href="the-law-of-large-numbers.html#cb98-17" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">&quot;Number of samples&quot;</span>,</span>
<span id="cb98-18"><a href="the-law-of-large-numbers.html#cb98-18" tabindex="-1"></a>     <span class="at">axes=</span>F,</span>
<span id="cb98-19"><a href="the-law-of-large-numbers.html#cb98-19" tabindex="-1"></a>     <span class="at">las=</span><span class="dv">1</span>)</span>
<span id="cb98-20"><a href="the-law-of-large-numbers.html#cb98-20" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>); <span class="fu">axis</span>(<span class="dv">2</span>)</span>
<span id="cb98-21"><a href="the-law-of-large-numbers.html#cb98-21" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h=</span>true_mean, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<div id="confidence-intervals" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Confidence intervals<a href="the-law-of-large-numbers.html#confidence-intervals" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="float">
<img src="https://m.media-amazon.com/images/I/71V226GLi3S._AC_UF894,1000_QL80_.jpg" alt="Frequentists." />
<div class="figcaption">Frequentists.</div>
</div>
<p>Remember that in a frequentist approach to inference, the population parameters are fixed and the data are random. This means that sometimes our sample will not contain the true population mean. Using the standard deviation of our data and our significance threshold, we can generate a confidence interval to describe this process. Often, people will use a 95% confidence interval because it matches the convention of <span class="math inline">\(\alpha = 0.05\)</span>. What a 95% confidence interval tells us is that 95% of the time, if you go out and calculate an interval in this way, it will contain the true population mean.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="the-law-of-large-numbers.html#cb99-1" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x=</span>xvals,</span>
<span id="cb99-2"><a href="the-law-of-large-numbers.html#cb99-2" tabindex="-1"></a>     <span class="at">y=</span><span class="fu">dnorm</span>(xvals, <span class="at">mean =</span> true_mean, <span class="at">sd =</span> true_sd),</span>
<span id="cb99-3"><a href="the-law-of-large-numbers.html#cb99-3" tabindex="-1"></a>     <span class="at">type=</span><span class="st">&quot;l&quot;</span>,</span>
<span id="cb99-4"><a href="the-law-of-large-numbers.html#cb99-4" tabindex="-1"></a>     <span class="at">ylab=</span><span class="st">&quot;Density&quot;</span>, <span class="at">xlab=</span><span class="st">&quot;Value&quot;</span>,</span>
<span id="cb99-5"><a href="the-law-of-large-numbers.html#cb99-5" tabindex="-1"></a>     <span class="at">axes=</span>F)</span>
<span id="cb99-6"><a href="the-law-of-large-numbers.html#cb99-6" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>); <span class="fu">axis</span>(<span class="dv">2</span>)</span>
<span id="cb99-7"><a href="the-law-of-large-numbers.html#cb99-7" tabindex="-1"></a></span>
<span id="cb99-8"><a href="the-law-of-large-numbers.html#cb99-8" tabindex="-1"></a>ci <span class="ot">&lt;-</span> <span class="fu">c</span>(true_mean<span class="fl">-1.96</span><span class="sc">*</span>true_sd, true_mean<span class="fl">+1.96</span><span class="sc">*</span>true_sd)</span>
<span id="cb99-9"><a href="the-law-of-large-numbers.html#cb99-9" tabindex="-1"></a></span>
<span id="cb99-10"><a href="the-law-of-large-numbers.html#cb99-10" tabindex="-1"></a>ci.vals <span class="ot">&lt;-</span> <span class="fu">seq</span>(ci[<span class="dv">1</span>], ci[<span class="dv">2</span>], <span class="fl">0.1</span>)</span>
<span id="cb99-11"><a href="the-law-of-large-numbers.html#cb99-11" tabindex="-1"></a></span>
<span id="cb99-12"><a href="the-law-of-large-numbers.html#cb99-12" tabindex="-1"></a><span class="fu">polygon</span>(<span class="at">x =</span> <span class="fu">c</span>(ci.vals, <span class="fu">rev</span>(ci.vals)),</span>
<span id="cb99-13"><a href="the-law-of-large-numbers.html#cb99-13" tabindex="-1"></a>        <span class="at">y =</span> <span class="fu">c</span>(<span class="fu">dnorm</span>(ci.vals, true_mean, true_sd),</span>
<span id="cb99-14"><a href="the-law-of-large-numbers.html#cb99-14" tabindex="-1"></a>              <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">length</span>(ci.vals))),</span>
<span id="cb99-15"><a href="the-law-of-large-numbers.html#cb99-15" tabindex="-1"></a>        <span class="at">col=</span><span class="st">&quot;#bb5406bb&quot;</span>, <span class="at">border=</span>F)</span>
<span id="cb99-16"><a href="the-law-of-large-numbers.html#cb99-16" tabindex="-1"></a><span class="fu">text</span>(ci[<span class="dv">1</span>], <span class="dv">0</span>, <span class="st">&quot;μ - 1.96*σ&quot;</span>, <span class="at">cex=</span><span class="fl">1.5</span>)</span>
<span id="cb99-17"><a href="the-law-of-large-numbers.html#cb99-17" tabindex="-1"></a><span class="fu">text</span>(ci[<span class="dv">2</span>], <span class="dv">0</span>, <span class="st">&quot;μ + 1.96*σ&quot;</span>, <span class="at">cex=</span><span class="fl">1.5</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-29-1.png" width="672" />
That means if you went out and collected observations on a sample (e.g. 10 lyrebirds) and then repeated that 100 times (i.e. 100 replicates of each sample, so 1000 total individual lyrebirds, but observed independently in 100 different replicates, each with a sample size of 10), you would expect that 95 out of those 100 confidence intervals would include the true population mean.</p>
</div>
<div id="lyrebird-population-differences" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Lyrebird population differences<a href="the-law-of-large-numbers.html#lyrebird-population-differences" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now let’s assume we have two different lyrebird populations, and we want to know if they differ in their population-level song repertoires. We will assume one population is in a natural habitat where they are only exposed to natural sounds, such as other bird calls, water, wind, etc. The other is in a degraded woodland near human population centers and is also exposed to anthropogenic noises, which we might expect would increase the mean song repertoire for that population.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="the-law-of-large-numbers.html#cb100-1" tabindex="-1"></a>nat_pop_mean <span class="ot">&lt;-</span> <span class="fl">38.1</span></span>
<span id="cb100-2"><a href="the-law-of-large-numbers.html#cb100-2" tabindex="-1"></a>nat_sd <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb100-3"><a href="the-law-of-large-numbers.html#cb100-3" tabindex="-1"></a></span>
<span id="cb100-4"><a href="the-law-of-large-numbers.html#cb100-4" tabindex="-1"></a>urb_pop_mean <span class="ot">&lt;-</span> <span class="fl">42.4</span></span>
<span id="cb100-5"><a href="the-law-of-large-numbers.html#cb100-5" tabindex="-1"></a>urb_sd <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb100-6"><a href="the-law-of-large-numbers.html#cb100-6" tabindex="-1"></a></span>
<span id="cb100-7"><a href="the-law-of-large-numbers.html#cb100-7" tabindex="-1"></a>true_diff <span class="ot">&lt;-</span> urb_pop_mean <span class="sc">-</span> nat_pop_mean</span>
<span id="cb100-8"><a href="the-law-of-large-numbers.html#cb100-8" tabindex="-1"></a></span>
<span id="cb100-9"><a href="the-law-of-large-numbers.html#cb100-9" tabindex="-1"></a></span>
<span id="cb100-10"><a href="the-law-of-large-numbers.html#cb100-10" tabindex="-1"></a>n.obs <span class="ot">&lt;-</span> <span class="dv">30</span> <span class="co"># we observe 30 individuals in each population</span></span>
<span id="cb100-11"><a href="the-law-of-large-numbers.html#cb100-11" tabindex="-1"></a>n.reps <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb100-12"><a href="the-law-of-large-numbers.html#cb100-12" tabindex="-1"></a></span>
<span id="cb100-13"><a href="the-law-of-large-numbers.html#cb100-13" tabindex="-1"></a><span class="co"># For each replication, we will use a one-sided t-test to test if the urban</span></span>
<span id="cb100-14"><a href="the-law-of-large-numbers.html#cb100-14" tabindex="-1"></a><span class="co"># population has a larger song repertoire than the natural population</span></span>
<span id="cb100-15"><a href="the-law-of-large-numbers.html#cb100-15" tabindex="-1"></a></span>
<span id="cb100-16"><a href="the-law-of-large-numbers.html#cb100-16" tabindex="-1"></a><span class="co"># set up placeholder objects</span></span>
<span id="cb100-17"><a href="the-law-of-large-numbers.html#cb100-17" tabindex="-1"></a>rep_diff <span class="ot">&lt;-</span> rep_low <span class="ot">&lt;-</span> rep_up <span class="ot">&lt;-</span> contains_true <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb100-18"><a href="the-law-of-large-numbers.html#cb100-18" tabindex="-1"></a></span>
<span id="cb100-19"><a href="the-law-of-large-numbers.html#cb100-19" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n.reps){</span>
<span id="cb100-20"><a href="the-law-of-large-numbers.html#cb100-20" tabindex="-1"></a>  nat_pop <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n.obs, nat_pop_mean, nat_sd)</span>
<span id="cb100-21"><a href="the-law-of-large-numbers.html#cb100-21" tabindex="-1"></a>  urb_pop <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(n.obs, urb_pop_mean, urb_sd)</span>
<span id="cb100-22"><a href="the-law-of-large-numbers.html#cb100-22" tabindex="-1"></a>  </span>
<span id="cb100-23"><a href="the-law-of-large-numbers.html#cb100-23" tabindex="-1"></a>  mod1 <span class="ot">&lt;-</span> <span class="fu">t.test</span>(urb_pop, nat_pop)</span>
<span id="cb100-24"><a href="the-law-of-large-numbers.html#cb100-24" tabindex="-1"></a></span>
<span id="cb100-25"><a href="the-law-of-large-numbers.html#cb100-25" tabindex="-1"></a>  rep_diff[i] <span class="ot">&lt;-</span> <span class="fu">mean</span>(urb_pop) <span class="sc">-</span> <span class="fu">mean</span>(nat_pop)</span>
<span id="cb100-26"><a href="the-law-of-large-numbers.html#cb100-26" tabindex="-1"></a>  rep_low[i] <span class="ot">&lt;-</span> mod1<span class="sc">$</span>conf.int[<span class="dv">1</span>]</span>
<span id="cb100-27"><a href="the-law-of-large-numbers.html#cb100-27" tabindex="-1"></a>  rep_up[i] <span class="ot">&lt;-</span> mod1<span class="sc">$</span>conf.int[<span class="dv">2</span>]</span>
<span id="cb100-28"><a href="the-law-of-large-numbers.html#cb100-28" tabindex="-1"></a></span>
<span id="cb100-29"><a href="the-law-of-large-numbers.html#cb100-29" tabindex="-1"></a>  contains_true[i] <span class="ot">&lt;-</span> <span class="fu">as.logical</span>(rep_low[i]<span class="sc">&lt;</span>true_diff <span class="sc">&amp;</span> rep_up[i]<span class="sc">&gt;</span>true_diff)</span>
<span id="cb100-30"><a href="the-law-of-large-numbers.html#cb100-30" tabindex="-1"></a></span>
<span id="cb100-31"><a href="the-law-of-large-numbers.html#cb100-31" tabindex="-1"></a>  }</span>
<span id="cb100-32"><a href="the-law-of-large-numbers.html#cb100-32" tabindex="-1"></a></span>
<span id="cb100-33"><a href="the-law-of-large-numbers.html#cb100-33" tabindex="-1"></a><span class="fu">plot</span>(rep_diff <span class="sc">~</span> <span class="fu">seq</span>(<span class="dv">1</span>, n.reps, <span class="dv">1</span>), <span class="at">ylim=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>, <span class="dv">10</span>),</span>
<span id="cb100-34"><a href="the-law-of-large-numbers.html#cb100-34" tabindex="-1"></a>     <span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;black&quot;</span>)[<span class="fu">factor</span>(contains_true)])</span>
<span id="cb100-35"><a href="the-law-of-large-numbers.html#cb100-35" tabindex="-1"></a><span class="fu">arrows</span>(<span class="at">x0=</span><span class="fu">seq</span>(<span class="dv">1</span>, n.reps, <span class="dv">1</span>), <span class="at">y0=</span>rep_low, <span class="at">y1=</span>rep_up, <span class="at">code=</span><span class="dv">3</span>, <span class="at">angle=</span><span class="dv">90</span>, <span class="at">length=</span><span class="fl">0.05</span>,</span>
<span id="cb100-36"><a href="the-law-of-large-numbers.html#cb100-36" tabindex="-1"></a>       <span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;black&quot;</span>)[<span class="fu">factor</span>(contains_true)])</span>
<span id="cb100-37"><a href="the-law-of-large-numbers.html#cb100-37" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h=</span>true_diff)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="the-law-of-large-numbers.html#cb101-1" tabindex="-1"></a><span class="fu">table</span>(contains_true)</span></code></pre></div>
<pre><code>## contains_true
## FALSE  TRUE 
##     5    95</code></pre>
</div>
<div id="lyrebird-mating-success-and-the-sampling-distribution" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Lyrebird mating success and the sampling distribution<a href="the-law-of-large-numbers.html#lyrebird-mating-success-and-the-sampling-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The law of large numbers does not just apply to the normal distribution, or even just to continuous distributions for that matter. The <em>sampling distribution</em> for any parameter will converge on the true population value with enough samples. It is important to keep the sampling distribution and sample distribution separate; the sampling distribution is the distribution of <em>statistics</em> calculated from a bunch of different samples, whereas the sample distribution is the distribution of observations.</p>
<p>Let’s assume each male lyrebird in our population has a 0.25 probability of mating success, we observe 20 males in each of our samples, and we replicate our sample 100 times.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="the-law-of-large-numbers.html#cb103-1" tabindex="-1"></a>sample1 <span class="ot">&lt;-</span> <span class="fu">rbinom</span>(<span class="dv">20</span>, <span class="dv">1</span>, <span class="fl">0.25</span>) <span class="co"># this is our sample</span></span>
<span id="cb103-2"><a href="the-law-of-large-numbers.html#cb103-2" tabindex="-1"></a></span>
<span id="cb103-3"><a href="the-law-of-large-numbers.html#cb103-3" tabindex="-1"></a><span class="fu">hist</span>(sample1) <span class="co"># this is our sample distribution</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="the-law-of-large-numbers.html#cb104-1" tabindex="-1"></a><span class="co"># we do not have a sampling distribution yet; for that we need replicates</span></span>
<span id="cb104-2"><a href="the-law-of-large-numbers.html#cb104-2" tabindex="-1"></a></span>
<span id="cb104-3"><a href="the-law-of-large-numbers.html#cb104-3" tabindex="-1"></a>rep_means <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb104-4"><a href="the-law-of-large-numbers.html#cb104-4" tabindex="-1"></a></span>
<span id="cb104-5"><a href="the-law-of-large-numbers.html#cb104-5" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5000</span>){</span>
<span id="cb104-6"><a href="the-law-of-large-numbers.html#cb104-6" tabindex="-1"></a>  rep_means[i] <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">sample</span>(<span class="fu">rbinom</span>(<span class="dv">20</span>, <span class="dv">1</span>, <span class="fl">0.25</span>)))</span>
<span id="cb104-7"><a href="the-law-of-large-numbers.html#cb104-7" tabindex="-1"></a>}</span>
<span id="cb104-8"><a href="the-law-of-large-numbers.html#cb104-8" tabindex="-1"></a></span>
<span id="cb104-9"><a href="the-law-of-large-numbers.html#cb104-9" tabindex="-1"></a><span class="fu">hist</span>(rep_means, <span class="dv">10</span>) <span class="co"># this is our sampling distribution</span></span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-31-2.png" width="672" /></p>
</div>
<div id="credible-intervals" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Credible intervals<a href="the-law-of-large-numbers.html#credible-intervals" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We will get to Bayesian statistics later in the semester, but for now, know that the Bayesian equivalent of a confidence interval is called a credible interval. The interpretation of a 95% Bayesian credible interval is that there is a 95% probability that the true population mean lies within that interval. This is frequently mixed up in the literature and frequentists often describe confidence intervals as if they are credible intervals but this is 100% not true.</p>
<div class="float">
<img src="https://media.licdn.com/dms/image/C5612AQFKQCinuG7TEw/article-cover_image-shrink_600_2000/0/1620234277641?e=2147483647&amp;v=beta&amp;t=p7TAlJk4WaGZoKCuZAmqaWbmkyhIL7bMBda9jXpH3PU" alt="Bayesians." />
<div class="figcaption">Bayesians.</div>
</div>
<p><img src="https://miro.medium.com/v2/resize:fit:1146/1*Z7IKnMjZSMoocuQEBg7kow.png" /></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="inference.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="simple-linear-models.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
